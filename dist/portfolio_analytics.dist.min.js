/*! portfolio_analytics - v0.0.1 (2016-10-06), Roman Rubsamen <roman.rubsamen@gmail.com> */var PortfolioAnalytics=PortfolioAnalytics||{};PortfolioAnalytics=function(a){function b(b){a.assertArray_(b);var d=c(b,0,b.length-1);return d[0]==-(1/0)?0:d[0]}function c(b,c,d){for(var e=-(1/0),f=-(1/0),g=-1,h=-1,i=-1,j=c;j<d+1;++j){a.assertPositiveNumber_(b[j]),b[j]>e&&(e=b[j],g=j);var k=(e-b[j])/e;k>f&&(f=k,h=g,i=j)}return[f,h,i]}function d(b){var c=-(1/0);a.assertArray_(b);for(var d=new Array(b.length),e=0;e<b.length;++e)a.assertPositiveNumber_(b[e]),b[e]>c&&(c=b[e]),d[e]=(c-b[e])/c;return d}function e(b,d){if(a.assertArray_(b),a.assertPositiveInteger_(d),0==d)return[];var e=[],f=[];for(f.push([0,b.length-1,d]);0!=f.length;){var g=f.pop(),h=g[0],i=g[1],j=g[2],k=c(b,h,i),l=k[1],m=k[2],n=k[0];0!=n&&n!=-(1/0)&&e.push([n,l,m]),1==j||l==h&&m==i||(l==h&&m<i?f.push([m,i,j-1]):l>h&&m==i?f.push([h,l,j-1]):(f.push([h,l,j-1]),f.push([m,i,j-1])))}return e.sort(function(a,b){var c=a[0],d=b[0];if(c<d)return 1;if(c>d)return-1;var e=a[1],f=b[1];return e<f?-1:1}),e.slice(0,Math.min(d,e.length))}return a.maxDrawdown=function(a){return b(a)},a.drawdownFunction=function(a){return d(a)},a.topDrawdowns=function(a,b){return e(a,b)},a}(PortfolioAnalytics||{});var PortfolioAnalytics=PortfolioAnalytics||{};PortfolioAnalytics=function(a){function b(a){if(!arguments.length||!Array.isArray(a))throw new Error("input must be an array")}function c(a){if(!arguments.length||"number"!=typeof a||isNaN(a)||a===1/0||a===-(1/0)||a<0)throw new Error("input must be a positive number")}function d(a){try{c(a)}catch(b){throw new Error("input must be a positive integer")}if(Math.floor(a)!==a)throw new Error("input must be a positive integer")}return a.assertArray_=function(a){return b(a)},a.assertPositiveNumber_=function(a){return c(a)},a.assertPositiveInteger_=function(a){return d(a)},a}(PortfolioAnalytics||{});